<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>자바스크립트 상속에 관하여.</title>
  <meta name="description" content="자바스크립트의 상속을 정리해보겠습니다.예전에 정리해두었던건데, 영 마구잡이식이어서 블로그도 새로 만들었고 되새김질도 하는 김에 정리해봅니다.시작해볼까요 :)- 기본적인 상속function Parent(name) {    this.name = name || 'Parent';}Pare...">

  <!-- CSS files -->
  <link rel="stylesheet" href="http://localhost:4000/css/font-awesome.min.css">
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">

  <link rel="canonical" href="http://localhost:4000/articles/2016-10/javascript-extends">
  <link rel="alternate" type="application/rss+xml" title="Leonids" href="http://localhost:4000/feed.xml" />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="http://localhost:4000/favicon.png">
</head>


<body>
  <div class="row">
    <div class="col s12 m3">
      <div class="table cover">
        

<div class="cover-card table-cell table-middle">
  
  <img src="http://localhost:4000/img/profile.jpeg" alt="" class="avatar">
  
  <a href="http://localhost:4000/" class="author_name">dolen</a>
  <span class="author_job">Developer</span>
  <span class="author_bio mbm">Front-End</span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="http://localhost:4000/">home</a>
        <span>/</span>
      </li>
       
      <li class="nav-item">
        <a href="http://localhost:4000/archive/">Archive</a>
        
          <span>/</span>
        
      </li>
          
      <li class="nav-item">
        <a href="http://localhost:4000/categories/">Categories</a>
        
          <span>/</span>
        
      </li>
            
      <li class="nav-item">
        <a href="http://localhost:4000/tags/">Tags</a>
        
      </li>
       
    </ul>
  </nav>
  <script type="text/javascript">
  // based on http://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs, subject) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    
      <li>
      <script>gen_mail_to_link('imcts@coupang.com', 'Hello from website');</script>
      </li>
    
    
    <li><a href="http://facebook.com/taesan.choi" class="social-link-item" target="_blank"><i class="fa fa-fw fa-facebook"></i></a></li>
    
    <li><a href="http://linkedin.com/in/태산-최-a904a9119?trk=hp-identity-photo" class="social-link-item" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a></li>
    
    
    
    
    <li><a href="http://github.com/imcts" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

</div>

      </div>
    </div>
    <div class="col s12 m9">
      <div class="post-listing">
        <a class="btn" href= "http://localhost:4000/" >
    Home
</a>



<div id="post">
    <header class="post-header">
        <h1 title="자바스크립트 상속에 관하여.">자바스크립트 상속에 관하여.</h1>
    <span class="post-meta">
      <span class="post-date">
        1 OCT 2016
      </span>
      •
      <span class="read-time" title="Estimated read time">
  
  
    10 mins read
  
</span>

    </span>

    </header>

    <article class="post-content">
        <p><strong>자바스크립트의 상속</strong>을 정리해보겠습니다.</p>

<p>예전에 정리해두었던건데, 영 마구잡이식이어서 블로그도 새로 만들었고 되새김질도 하는 김에 정리해봅니다.</p>

<p>시작해볼까요 :)</p>

<h3 id="section">- 기본적인 상속</h3>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Parent</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent'</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">say</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">Child</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">Child</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Parent</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Child</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span>

<span class="nx">c</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'Test'</span><span class="p">;</span>


<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//Test</span>

<span class="k">delete</span> <span class="nx">c</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span> <span class="c1">//ok.</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//Parent</span>
</code></pre>
</div>

<p>실행 결과를 보게되면 Child 함수에는 자신의 프로토타입 프로퍼티를 가리키는 <strong>proto</strong> 변수외에는 아무것도 없습니다.</p>

<p><strong>proto__를 열어보게되면 c.__proto</strong> -&gt; 안에는 Parent.__proto__에 할당되어있는 값이 할당되는데 그 값은 다음과 같습니다.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
 <span class="nl">name</span> <span class="p">:</span> <span class="s1">'Parent'</span><span class="p">,</span>
 <span class="nx">__proto__</span> <span class="err">:</span> <span class="p">{</span>
     <span class="nl">constructor</span> <span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent'</span><span class="p">;</span>
     <span class="p">},</span>
     <span class="nx">say</span> <span class="err">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
     <span class="p">}</span>
 <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>그렇기 때문에 기본적으로 c.name을 검색했을때에는 연쇄적인 체이닝 검색이 일어나게 되는거지요.</p>

<p>이 패턴의 방식은 this로 지정된 Child함수에서 매번 name값을 찾으려면 c.<strong>proto</strong>.name 을 찾게 되고</p>

<p>c.say() 를 하려 한다면, c.<strong>proto</strong>.<strong>proto</strong>.say(); 를 하게 된다는 점입니다.</p>

<p>만약 say()를 못 찾게 되면 최상단 오브젝트까지 가서 찾게 되는 거지요.</p>

<p>또한 c.name 을 하게 되면 name 객체 자체 오브젝트에 값이 할당되므로, name = Test로 할당되지만, 그 객체값이 사라지게 되면,</p>

<p>다시 <strong>proto</strong> 값을 참조하게 되며 결국은 부모객체중의 name 값을 가져오게 됩니다.</p>

<p>그리고 또 한가지 위험한 단점이 존재하게 되는데요.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Parent</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">say</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>


<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Parent</span><span class="p">();</span>

<span class="kd">function</span> <span class="nx">Child</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">Child</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">p</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Child</span><span class="p">();</span>

<span class="nx">c</span><span class="p">.</span><span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">arr</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">arr</span><span class="p">);</span> <span class="c1">// 두개가 같은것을 바라보게 된다.</span>
</code></pre>
</div>

<p>결국 Prototype Chaning을 사용한 상속은 단순히 부모가 가지고있는 값을 참조할 수 있다는 점에서 굉장한 위험을 동반할 수 있게 됩니다.</p>

<p>하나의 부모객체가 인스턴스화 된 후, 해당 객체가 여러개의 자식객체에게 상속을 해 주었고 여러개의 자식객체가 하나의 부모객체의 값을 참조하게 된다면 그 이슈는 어마어마하게 되겠죠.</p>

<h3 id="section-1">- 생성자 빌려쓰기의 다중상속</h3>

<p>위에서 언급했듯이, 부모 객체를 자식의 프로토타입에 덮어씌우는 상속은 꽤나 많은 문제점을 일으킬 수 있습니다.</p>

<p>그래서 다른 방법을 찾게 된것이 바로 생성자 빌려쓰기 입니다.</p>

<p>자바스크립트의 함수는 생성자 함수로 동작하게 될때 여러가지 재미있는 행동을 하게 되는데요.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">test</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">test</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Test</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">test</span><span class="p">.</span><span class="nx">test</span><span class="p">);</span> <span class="c1">//3</span>
</code></pre>
</div>

<p>이게 가능한 이유는 실제 자바스크립트는 이렇게 동작하기 때문입니다.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="k">this</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span> <span class="c1">//보이지는 않지만 this를 생성한 후 undefined를 할당한다.</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">test</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    
    <span class="k">return</span> <span class="k">this</span><span class="p">;</span> <span class="c1">//return 되는 값이 없다면 암묵적으로 this를 리턴한다.</span>
<span class="p">}</span>
</code></pre>
</div>

<p>이걸 이용한다면 우리는 재미있는 동작을 하게 만들 수 있게 되요 !</p>

<p>함수를 생성자로서만 동작하게 만드는 것이지요.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Parent</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">say</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">Child</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Parent</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
<span class="p">}</span>


<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Child</span><span class="p">(</span><span class="s1">'Child Name'</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
</code></pre>
</div>

<p>이렇게 함으로써 자식객체는 Parent를 단순히 함수로 사용하게 되는 것이기 때문에 참조에 의한 생성이 이루어지지 않게 되요 :)</p>

<p>물론, 부모의 prototype에 선언되어있는 프로퍼티와는 전혀 상관없이 부모의 참조 변수값만 할당 받는 방식이기 때문에 경우에 따라서 잘 사용해야 하겠지요.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Parent</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">say</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Parent2</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent2'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">brr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">Child</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Parent</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
    <span class="nx">Parent2</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
<span class="p">}</span>


<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Child</span><span class="p">(</span><span class="s1">'Child Name'</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//Child Name</span>
</code></pre>
</div>

<p>또한 이런 식의 다중상속또한 가능하게 됩니다.</p>

<p>그런데 이건 완전한 상속이 아니게 됩니다. 부모의 say 함수는 상속받지 못하였거든요..</p>

<p>그러면 부모의 함수마저도 상속받으려면 어떻게 하면 좋을까요 ??</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Parent</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">say</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Parent2</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent2'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">brr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Child</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Parent</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
    <span class="nx">Parent2</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">Child</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Parent</span><span class="p">();</span>
<span class="nx">Child</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Parent2</span><span class="p">();</span>
</code></pre>
</div>

<p>이처럼 하게 되면, 자식은 자신만의 변수를 할당하게 되고, 참조 또한 모든 참조를 하게 됩니다.</p>

<p>하지만 생성자에서 한번, 프로토타입에서 한번 총 2번의 부모 생성자를 호출하게 되는 불편함이 존재하며 결국 부모를 생성하여 프로토타입을 가져오게 되어</p>

<p>애초에 문제를 재기하였던 프로토타입 체이닝이 이어지게 됩니다.</p>

<p>그렇다면, 부모생성자를 호출하지 않고도 사용하는 방법이란 이런것도 있지 않을까요 ?</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Parent</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">say</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Parent2</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent2'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">brr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">Parent2</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>

<span class="nx">Parent2</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">say2</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Child</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Parent</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
    <span class="nx">Parent2</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
<span class="p">}</span>


<span class="nx">Child</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">Parent2</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>

</code></pre>
</div>

<p>하지만, 이렇게 하면 모든 프로토타입은 공유될 수 있을지 모르나 다중 프로토타입을 구현하려면 굉장히 복잡하게 될 뿐더러</p>

<p>모두가 하나의 프로토타입만 바라보게 되기 때문에 위험해집니다.</p>

<p>어느 한군데에서 변경하게 되면 전부 망가질 가능성이 있기 때문이죠 T ^T.</p>

<h3 id="proxy---">- Proxy 타입의 완벽한 상속</h3>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Parent</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">say</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'say'</span><span class="p">);</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Child</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'생성대따아!!'</span><span class="p">);</span>
    <span class="nx">Parent</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">Proxy</span><span class="p">()</span> <span class="p">{};</span>

<span class="nx">Proxy</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>

<span class="nx">Child</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Proxy</span><span class="p">();</span>

<span class="nx">Child</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">Child</span><span class="p">;</span>

<span class="nx">Proxy</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Child</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span>
</code></pre>
</div>

<p>자 어떤가요 ? 이해가 가셨나요 ?</p>

<ol>
  <li>Proxy 함수에 부모의 prototype을 복제합니다.</li>
  <li>자식에게 Proxy의 프h로토타입을 상속해 줍니다.</li>
  <li>자식의 생성자 함수를 Child함수로 지정해 줍니다.</li>
  <li>Proxy 의 prototype을 삭제함으로 체인을 끊어 줍니다. (이미 new Proxy()가 되어 메모리에 올라가 있으므로 자식의 prototype은 전혀 지장을 받지 않습니다.)</li>
  <li>자식을 인스턴스화합니다. (말 그대로 완벽한 상속이 이루어졌습니다.)</li>
</ol>

<p>자 이제 이걸 함수화 시켜볼까요 ??</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Parent</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">'Parent'</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>

<span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">say</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'say'</span><span class="p">);</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Child</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'생성돼떠!'</span><span class="p">);</span>
    <span class="nx">Parent</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
<span class="p">}</span>


<span class="kd">var</span> <span class="nx">inherit</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">Proxy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

    <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Child</span><span class="p">,</span> <span class="nx">Parent</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">Proxy</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">Parent</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>
        <span class="nx">Child</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Proxy</span><span class="p">();</span>
        <span class="nx">Child</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">Child</span><span class="p">;</span>
        <span class="nx">Proxy</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}());</span>


<span class="nx">inherit</span><span class="p">(</span><span class="nx">Child</span><span class="p">,</span> <span class="nx">Parent</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Child</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span>
</code></pre>
</div>

<p>Child는 부모의 변수값만 복사해왔고, constructor는 자식의 값으로 지정되어 있으며 <strong>proto</strong> 의 값을 확인해보면 Proxy가 물려준 부모의 prototype이 입력되어 있습니다.</p>

<p>이상 상속의 정리를 마칩니다.</p>

<p>ES6의 CLASS에 대해서 아주 잘 정리된 곳이 있으니 공유합니다. :)</p>

<p><a href="https://gomugom.github.io/es6/2016/10/04/is-class-only-a-syntactic-sugar">고무곰님의 ES6의 CLASS에 대하여</a></p>

    </article>
</div>


    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'dolen';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



<div class="share-buttons">
    <h6>Share on: </h6>
    <ul>
        <li>
            <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/articles/2016-10/javascript-extends" class="twitter btn" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
        </li>
        <li>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/articles/2016-10/javascript-extends" class="facebook btn" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
        </li>
        <li>
            <a href="https://plus.google.com/share?url=http://localhost:4000/articles/2016-10/javascript-extends" class="google-plus btn" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
        </li>
        <li>
            <a href="https://news.ycombinator.com/submitlink?u=http://localhost:4000/articles/2016-10/javascript-extends" class="hacker-news btn" title="Share on Hacker News"><i class="fa fa-hacker-news"></i><span> Hacker News</span></a>
        </li>
        <li>
            <a href="https://www.reddit.com/submit?url=http://localhost:4000/articles/2016-10/javascript-extends" class="reddit btn" title="Share on Reddit"><i class="fa fa-reddit"></i><span> Reddit</span></a>
        </li>
    </ul>
</div><!-- end share-buttons -->



        <footer>
  &copy; 2016 dolen. Powered by <a href="http://jekyllrb.com/">Jekyll</a>, <a href="http://github.com/renyuanz/leonids/">leonids theme</a> made with <i class="fa fa-heart heart-icon"></i>
</footer>

      </div>
    </div>
  </div>
  <script type="text/javascript" src="http://localhost:4000/js/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="http://localhost:4000/js/main.js"></script>


</body>
</html>
